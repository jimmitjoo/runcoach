!function(n){var t={};function e(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return n[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,a){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:a})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(a,i,function(t){return n[t]}.bind(null,i));return a},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=42)}({42:function(n,t,e){(function(n){var t={};!function(n){"use strict";var e,a;t={init:function(){e=n(document.body),a=e.find("#subscription-options-settings-panel"),this.loadMultiPlanSubscriptions(),this.initSortablePlans(a.find(".simpay-multi-subscriptions tbody")),a.find(".simpay-add-plan").on("click.simpayAddPlan",(function(n){n.preventDefault(),t.addPlan(n)})),a.find(".simpay-panel-field").on("click.simpayRemovePlan",".simpay-remove-plan",(function(e){t.removePlan(n(this),e)})),t.setDefaultPlan(),a.find(".simpay-multi-subscriptions").on("click.simpayUpdateDefaultPlan",'.simpay-multi-plan-default input[type="radio"]',(function(e){t.updateDefaultPlan(n(this))})),a.find(".simpay-multi-subscriptions").on("change.simpayUpdatePlanSelect",".simpay-multi-plan-select",(function(e){t.updatePlanSelect(n(this))})),a.find("#_subscription_custom_amount").find('input[type="radio"]').on("change.simpayToggleSubscription",(function(e){t.togglePlans(n(this))})),""===a.find("#simpay-multi-plan-default-value").val()&&a.find('.simpay-multi-plan-default input[type="radio"]:first').trigger("click.simpayUpdateDefaultPlan")},initSortablePlans:function(n){n.sortable({items:"tr",cursor:"move",axis:"y",handle:"td.sort-handle",scrollSensitivity:40,forcePlaceholderSize:!0,opacity:.65,stop:function(n,e){t.orderPlans()},helper:function(n,t){return t.clone().find(":input").attr("name",(function(n,t){return"sort_"+parseInt(1e5*Math.random(),10).toString()+"_"+t})).end()}})},loadMultiPlanSubscriptions:function(){var t=a.find(".simpay-multi-sub").get();t.sort((function(t,e){var a=parseInt(n(t).attr("rel"),10),i=parseInt(n(e).attr("rel"),10);return a<i?-1:a>i?1:0})),a.find(t).each((function(n,t){a.find(".simpay-multi-subscriptions tbody").append(t)}))},togglePlans:function(n){"enabled"===n.val()&&n.is(":checked")?e.find("#_single_plan").prop("disabled",!0).trigger("chosen:updated"):e.find("#_single_plan").prop("disabled",!1).trigger("chosen:updated")},updatePlanSelect:function(n){var t=n.parent().data("field-key");a.find("#simpay-subscription-multi-plan-default-"+t+"-yes").is(":checked")&&a.find("#simpay-multi-plan-default-value").val(n.find("option:selected").val())},setDefaultPlan:function(){var n=document.getElementById("simpay-multi-plan-default-value"),t=document.querySelector(".simpay-multi-plan-default input:checked");if(!(t&&t.dataset.planId===n.value||(t&&t.dataset.planId!==n.value&&(n.value=t.dataset.planId),t))){var e=document.querySelector(".simpay-multi-plan-default input");if(!e)return;e.checked=!0,n.value=e.dataset.planId}},updateDefaultPlan:function(n){var t=n.closest(".simpay-multi-plan-default").parent().find(".simpay-multi-plan-select").find("option:selected").val();a.find("#simpay-multi-plan-default-value").val(t)},orderPlans:function(){a.find(".simpay-multi-sub").each((function(t,e){var i=parseInt(n(e).index(".simpay-multi-sub"));a.find(".plan-order",e).val(i)}))},addPlan:function(t){var i=a.find(".simpay-multi-subscriptions tbody"),l=i.find("tr").length,u={action:"simpay_add_plan",counter:parseInt(l),addPlanNonce:e.find("#simpay_add_plan_nonce").val()};t.preventDefault(),n.ajax({url:ajaxurl,method:"POST",data:u,success:function(n){i.append(n),i.find("select").chosen()},error:function(n){spShared.debugLog(n)}})},removePlan:function(n,e){e.preventDefault(),n.closest(".simpay-multi-sub").remove(),t.setDefaultPlan()}},n(document).ready((function(n){t.init()}))}(n)}).call(this,e(5))},5:function(n,t){n.exports=jQuery}});