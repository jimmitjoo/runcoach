!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=45)}([function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){t.exports=r(22)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){"use strict";var n=r(23);r.o(n,"apiRequest")&&r.d(e,"apiRequest",(function(){return n.apiRequest}));var o=r(24);r.d(e,"apiRequest",(function(){return o.a}))},function(t,e){t.exports=jQuery},function(t,e,r){"use strict";var n=r(1),o=r.n(n),i=r(7),a=r.n(i),c=r(21);function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if(!e||!Object.keys(e).length)return t;var r=t,n=t.indexOf("?");return-1!==n&&(e=Object.assign(Object(c.parse)(t.substr(n+1)),e),r=r.substr(0,n)),r+"?"+Object(c.stringify)(e)}var s=r(0),l=r.n(s),f=r(9),p=r.n(f),d=r(4);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){l()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object(d.apiRequest)("v2/customer",h({form_values:p()(e[0],{hash:!0}),form_data:r,form_id:r.formId},t))}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){l()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return Object(d.apiRequest)("v2/paymentintent/create",v({form_values:p()(e[0],{hash:!0}),form_data:r,form_id:r.formId},t))}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object(d.apiRequest)("v2/paymentintent/confirm",v({form_values:p()(e[0],{hash:!0}),form_data:r,form_id:r.formId},t))}function O(t,e,r){var n=t.payment_intent,i=t.customer_id;return!!n.requires_action&&e.stripeInstance.handleCardAction(n.payment_intent_client_secret).then(function(){var t=a()(o.a.mark((function t(n){var a,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.error,c=n.paymentIntent,!a){t.next=3;break}throw a;case 3:return t.next=5,w({payment_intent_id:c.id,customer_id:i},e,r);case 5:return u=t.sent,t.abrupt("return",O({payment_intent:u,customer_id:i},e,r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var j=r(16),x=r(20),P=r(2),_=r.n(P),S=r(3),E=r.n(S),k=r(13),L=r.n(k),A=r(14),N=r.n(A),I=r(15),D=r.n(I),C=r(10),T=function(t){function e(){return _()(this,e),L()(this,N()(e).apply(this,arguments))}return D()(e,t),E()(e,[{key:"getSubtotal",value:function(){return Math.round(this.getUnitPrice()*this.getQuantity())}},{key:"getTotal",value:function(){return Math.round(this.getSubtotal()+this.getTax())}}]),e}(C.b),F=function(t){function e(t){var r;return _()(this,e),(r=L()(this,N()(e).call(this,t))).LineItem=T,r}return D()(e,t),E()(e,[{key:"getSubtotal",value:function(){var t=0;return this.getLineItems().forEach((function(e){t+=e.getSubtotal()})),t}},{key:"getDiscount",value:function(){var t=this.getCoupon(),e=0;if(!1===t)return e;var r=t.amount_off,n=t.percent_off;return n&&this.getLineItems().forEach((function(t){e+=Math.round(t.getSubtotal()*(n/100))})),r&&(e+=r),e}},{key:"getTax",value:function(){var t=0,e=this.getCoupon(),r=this.getTaxDecimal(),n=this.getLineItems();if(!1===e)return n.forEach((function(e){t+=Math.round(e.getSubtotal()*r)})),t;var o=e.percent_off,i=e.amount_off;if(o)return n.forEach((function(e){var n=e.getSubtotal()*(o/100),i=e.getSubtotal()-n;t+=Math.round(i*r)})),t;var a=this.getSubtotal();if(i){var c=a-i;return t+=Math.round(c*r)}}},{key:"getTotal",value:function(){var t=this.getSubtotal(),e=this.getTax(),r=this.getDiscount();return Math.round(t-r+e)}}]),e}(C.a);function q(t,e,r){return R.apply(this,arguments)}function R(){return(R=a()(o.a.mark((function t(e,r,n){var i,a,c,s,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.error){t.next=2;break}throw e.error;case 2:return t.next=4,m({source_id:e.source.id},r,n);case 4:if(i=t.sent,a=u(n.stripeParams.success_url,{customer_id:i.id}),!n.isSubscription&&!n.isRecurring){t.next=15;break}return t.next=9,Object(j.a)({customer_id:i.id},r,n);case 9:return s=t.sent,t.next=12,Object(j.b)(s,r,n);case 12:c=t.sent,t.next=23;break;case 15:return t.next=17,g({customer_id:i.id,payment_method_id:e.source.id},r,n);case 17:if((l=t.sent).requires_action){t.next=20;break}return t.abrupt("return",window.location.href=a);case 20:return t.next=22,O({customer_id:i.id,payment_intent:l},r,n);case 22:c=t.sent;case 23:if(!1!==c){t.next=25;break}return t.abrupt("return",window.location.href=a);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t,e){var r=t.stripeInstance.elements(),n=t[0].querySelector(".simpay-card-wrap");n&&(t.cardElementInstance=r.create("card",Object(x.a)(t,n)),t.cardElementInstance.mount(n),t.cardElementInstance.on("ready",(function(){return window.simpayApp.enableForm(t,e)})),t.cardElementInstance.on("change",(function(r){window.simpayApp.enableForm(t,e),r.error?window.simpayApp.showError(t,e,r.error.message):window.simpayApp.showError(t,e,"")})))}function V(t,e){var r=e.currency,n=function(t,e){var r=t.find(".simpay-billing-address-container"),n=t.find(".simpay-customer-name").val()||null,o=t.find(".simpay-email").val()||null,i=t.find(".simpay-telephone").val()||null,a=0!==r.length?{line1:r.find(".simpay-address-street").val()||null,city:r.find(".simpay-address-city").val()||null,state:r.find(".simpay-address-state").val()||null,postal_code:r.find(".simpay-address-zip").val()||null,country:r.find(".simpay-address-country").val()||null}:null;return{name:n,email:o,phone:i,address:a}}(t);return t.stripeInstance.createSource(t.cardElementInstance,{type:"card",currency:r,owner:n})}r.d(e,"c",(function(){return q})),r.d(e,"d",(function(){return M})),r.d(e,"b",(function(){return V})),r.d(e,"a",(function(){return F}))},function(t,e){function r(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function c(t){r(a,o,i,c,u,"next",t)}function u(t){r(a,o,i,c,u,"throw",t)}c(void 0)}))}}},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e){var r=/^(?:submit|button|image|reset|file)$/i,n=/^(?:input|select|textarea|keygen)/i,o=/(\[[^\[\]]*\])/g;function i(t,e,r){if(e.match(o)){!function t(e,r,n){if(0===r.length)return e=n;var o=r.shift(),i=o.match(/^\[(.+?)\]$/);if("[]"===o)return e=e||[],Array.isArray(e)?e.push(t(null,r,n)):(e._values=e._values||[],e._values.push(t(null,r,n))),e;if(i){var a=i[1],c=+a;isNaN(c)?(e=e||{})[a]=t(e[a],r,n):(e=e||[])[c]=t(e[c],r,n)}else e[o]=t(e[o],r,n);return e}(t,function(t){var e=[],r=new RegExp(o),n=/^([^\[\]]*)/.exec(t);for(n[1]&&e.push(n[1]);null!==(n=r.exec(t));)e.push(n[1]);return e}(e),r)}else{var n=t[e];n?(Array.isArray(n)||(t[e]=[n]),t[e].push(r)):t[e]=r}return t}function a(t,e,r){return r=r.replace(/(\r)?\n/g,"\r\n"),r=(r=encodeURIComponent(r)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+r}t.exports=function(t,e){"object"!=typeof e?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var o=e.hash?{}:"",c=e.serializer||(e.hash?i:a),u=t&&t.elements?t.elements:[],s=Object.create(null),l=0;l<u.length;++l){var f=u[l];if((e.disabled||!f.disabled)&&f.name&&(n.test(f.nodeName)&&!r.test(f.type))){var p=f.name,d=f.value;if("checkbox"!==f.type&&"radio"!==f.type||f.checked||(d=void 0),e.empty){if("checkbox"!==f.type||f.checked||(d=""),"radio"===f.type&&(s[f.name]||f.checked?f.checked&&(s[f.name]=!0):s[f.name]=!1),null==d&&"radio"==f.type)continue}else if(!d)continue;if("select-multiple"!==f.type)o=c(o,p,d);else{d=[];for(var y=f.options,h=!1,m=0;m<y.length;++m){var b=y[m],v=e.empty&&!b.value,g=b.value||v;b.selected&&g&&(h=!0,o=e.hash&&"[]"!==p.slice(p.length-2)?c(o,p+"[]",b.value):c(o,p,b.value))}!h&&e.empty&&(o=c(o,p,""))}}}if(e.empty)for(var p in s)s[p]||(o=c(o,p,""));return o}},function(t,e,r){"use strict";var n=r(8),o=r.n(n),i=r(0),a=r.n(i),c=r(2),u=r.n(c),s=r(3),l=r.n(s);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var p=function(){function t(e,r){if(u()(this,t),this.cart=null,this.id=null,this.title=null,this.amount=0,this.quantity=1,this.subscription=!1,"object"!==o()(r))throw{id:"invalid-line-item-cart",message:"Item must have an cart."};this.cart=r,this.update(e)}return l()(t,[{key:"update",value:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this,{},t),r=e.id,n=e.title,i=e.amount,c=e.quantity,u=e.subscription;if("string"!=typeof r)throw{id:"invalid-line-item-id",message:"Item ID must be a string."};if(this.id=r,"string"!=typeof n)throw{id:"invalid-line-item-title",message:"Item title must be a string."};if(this.title=n,!Number.isSafeInteger(i))throw{id:"invalid-line-item-amount",message:"Item amount must be an integer."};if(this.amount=i,!Number.isSafeInteger(c))throw{id:"invalid-line-item-quantity",message:"Item quantity must be an integer."};if(this.quantity=c,!1!==u&&"object"!==o()(u))throw{id:"invalid-line-item-subscription",message:"Item subscription data must be a false or contain subscription data."};return this.subscription=u,this}},{key:"remove",value:function(){var t=this,e=this.cart.getLineItems().filter((function(e){var r=e.id;return t.id!==r}));return this.cart.items=e,this}},{key:"getUnitPrice",value:function(){return this.amount}},{key:"getQuantity",value:function(){return this.quantity}},{key:"getTax",value:function(){var t=0,e=0,r=this.cart.getTaxDecimal(),n=this.getQuantity(),o=this.getSubtotal();for(e=0;e<n;e++)t+=Math.round(o*r);return t}}]),t}(),d=p;function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var h=function(){function t(e){u()(this,t),this.items=[],this.currency="usd",this.taxPercent=0,this.coupon=!1,this.isNonDecimalCurrency=!1,this.update(e)}return l()(t,[{key:"update",value:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this,{},t),r=e.currency,n=e.taxPercent,i=e.coupon,c=e.isNonDecimalCurrency;if("string"!=typeof r)throw{id:"invalid-currency",message:"Currency must be a string."};if(this.currency=r,isNaN(n))throw{id:"invalid-tax-percent",message:"Tax percentage must be a number."};if(this.taxPercent=parseFloat(n),!1!==i&&"object"!==o()(i))throw{id:"invalid-coupon",message:"Coupon must be a false or contain coupon data."};if(this.coupon=i,"boolean"!=typeof c)throw{id:"invalid-non-decimal-currency",message:"Declaring a non-decimal currency must be a boolean."};return this.isNonDecimalCurrency=c,this}},{key:"reset",value:function(){return new t}},{key:"getCoupon",value:function(){return this.coupon}},{key:"getTaxPercent",value:function(){return this.taxPercent}},{key:"getTaxDecimal",value:function(){return this.taxPercent/100}},{key:"getLineItems",value:function(){return this.items}},{key:"getLineItem",value:function(t){var e=this.getLineItems().filter((function(e){return e.id===t}));if(0===e.length)throw{id:"invalid-line-item",message:'Unable to retrieve line item "'.concat(t,'"')};return e[0]}},{key:"addLineItem",value:function(t){var e;return e=!0==t instanceof d?t:new this.LineItem(t,this),this.items.push(e),e}}]),t}();function m(t){var e=window.spShared,r=e.debugLog,n=e.convertToCents,o=window.spGeneral.booleans.isZeroDecimal,i=t.stripeParams.currency,a=t.amount,c=t.isSubscription,u=t.quantity,s=t.isTrial,l=t.planInterval,f=t.planIntervalCount,p=t.feePercent,d=t.feeAmount,y=t.taxPercent,h=t.setupFee,m={currency:i,items:[],taxPercent:0,isNonDecimalCurrency:o};if(isNaN(h)||m.items.push({id:"setup-fee",title:"Initial Setup Fee",amount:n(h),quantity:1,subscription:!1}),m.items.push({id:"plan-setup-fee",title:"Plan Setup Fee",amount:0,quantity:1,subscription:!1}),c)m.items.push({id:"base",title:"Subscription",amount:n(a),quantity:u,subscription:{isTrial:s,interval:l,intervalCount:f}});else{var b=a;!isNaN(d)&&d>0&&(b+=d,r("feeAmount:","Arbitrary fee amounts should be added to the base amount directly.")),m.items.push({id:"base",title:"One-time amount",amount:n(b),quantity:u,subscription:!1})}return isNaN(y)||(m.taxPercent=y),!isNaN(p)&&p>0&&(m.taxPercent=m.taxPercent+p,r("feePercent:","Arbitrary fee percentages should be added to the taxPercent directly.")),m}r.d(e,"c",(function(){return m})),r.d(e,"a",(function(){return h})),r.d(e,"b",(function(){return p}))},,,function(t,e,r){var n=r(8),o=r(33);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e}},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},function(t,e,r){var n=r(34);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return f})),r.d(e,"b",(function(){return p}));var n=r(0),o=r.n(n),i=r(9),a=r.n(i),c=r(4);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object(c.apiRequest)("v2/subscription",s({form_values:a()(e[0],{hash:!0}),form_data:r,form_id:r.formId},t))}function f(t,e){var r=e.customer_id;return Object(c.apiRequest)("v2/subscription/payment_method/".concat(t,"/").concat(r),{form_values:e})}function p(t,e,r){var n=t.status,o=t.latest_invoice.payment_intent,i=t.pending_setup_intent,a=r.stripeParams,c=(a.success_url,a.error_url);if(!o&&!i)return!1;if(o){var u=o.status,s=o.client_secret,l=o.last_payment_error;if("active"===n&&"succeeded"===u||"trialing"===n&&"succeeded"===u)return!1;if("incomplete"===n&&"requires_payment_method"===u){if(l.message)throw{message:l.message};return!1}if("incomplete"===n&&"requires_action"===u)return e.stripeInstance.handleCardPayment(s).then((function(t){if(t.error)throw t.error;return!1}))}if(i){var f=i.status,p=i.client_secret;if("requires_action"===f)return e.stripeInstance.handleCardSetup(p).then((function(t){if(t.error)throw t.error;return!1}));if("requires_payment_method"===f)return!1}return window.location.href=c}},,,function(t,e,r){"use strict";function n(t){"complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",t):t()}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return u}));var n=r(10),o=r(6),i={base:{color:"#32325d",fontFamily:"Roboto, Open Sans, Segoe UI, sans-serif",fontSize:"15px",fontSmoothing:"antialiased",fontWeight:500,"::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}};function a(t,e){return{hidePostalCode:!!t[0].querySelector(".simpay-address-zip")||"no"===e.dataset.showPostalCode,style:function(t,e){if(document.getElementById("simpay-stripe-element-styles"))return i;var r,n=document.createElement("style");if(n.id="simpay-stripe-element-styles",(r=document.querySelector("input.simpay-email"))||(r=document.querySelector('body [role="main"] input:not([type="hidden"])')),r){var o=window.getComputedStyle(r),a=(window.getComputedStyle(r,"::placeholder"),["top","right","bottom","left"].map((function(t){return"border-".concat(t,"-color: ").concat(o.getPropertyValue("border-".concat(t,"-color")),";\n\t\t\tborder-").concat(t,"-width: ").concat(o.getPropertyValue("border-".concat(t,"-width")),";\n\t\t\tborder-").concat(t,"-style: ").concat(o.getPropertyValue("border-".concat(t,"-style")),";\n\t\t\tpadding-").concat(t,": ").concat(o.getPropertyValue("padding-".concat(t)),";")}))),c=["top-right","bottom-right","bottom-left","top-left"].map((function(t){return"border-".concat(t,"-radius: ").concat(o.getPropertyValue("border-".concat(t,"-radius")),";")}));return n.innerHTML=".StripeElement.simpay-card-wrap {\n\t\t\tbackground-color: ".concat(o.getPropertyValue("background-color"),";\n\t\t\t").concat(a.join(""),"\n\t\t\t").concat(c.join(""),"\n\t\t}"),document.body.appendChild(n),{base:{color:o.getPropertyValue("color"),fontFamily:o.getPropertyValue("font-family"),fontSize:o.getPropertyValue("font-size"),fontWeight:o.getPropertyValue("font-weight"),fontSmoothing:o.getPropertyValue("-webkit-font-smoothing"),"::placeholder":{color:"#c7c7c7"}}}}return n.innerHTML=".StripeElement.simpay-card-wrap {\n\t\t\tbackground: #fff;\n\t\t\tborder: 1px solid #d1d1d1;\n\t\t\tborder-radius: 4px;\n\t\t\tpadding: 0.4375em;\n\t\t\theight: 36px;\n\t\t\tmin-height: 36px;\n\t\t}",document.body.appendChild(n),i}()}}function c(t,e,r){if(_.isObject(t)){var n=t.responseJSON,o=t.responseText,i=t.message,a=n&&n.message?n.message:o,c=i||a,u=window.simpayApp,s=u.showError,l=u.enableForm,f=window.spShared.debugLog;s(e,r,c),l(e,r),f("Payment Form Error:",t)}}function u(t,e,r){var i=window.simpayApp,a=i.isStripeCheckoutForm,u=i.disableForm,s=window.spShared.debugLog;if(!a(r)){u(e,r,!0);var l=e[0];if(l.querySelector(".simpay-checkout-btn"))try{var f=Object(n.c)(r),p=f.items,d=f.currency,y=f.taxPercent,h=f.isNonDecimalCurrency,m=new o.a({currency:d,taxPercent:y,isNonDecimalCurrency:h});p.length>0&&p.forEach((function(t){m.addLineItem(t)})),e.cart=m,Object(o.d)(e,r),l.addEventListener("submit",(function(t){return function(t,e,r){if(t.preventDefault(),window.simpayApp.showError(e,r,""),window.simpayApp.disableForm(e,r,!0),!e[0].checkValidity())return window.simpayApp.triggerBrowserValidation(e,r),void window.simpayApp.enableForm(e,r);if(e.trigger("simpayBeforeStripePayment",[e,r]),r.isValid)try{Object(o.b)(e,r).then((function(t){return Object(o.c)(t,e,r)})).catch((function(t){return c(t,e,r)}))}catch(t){c(t,e,r)}else window.simpayApp.enableForm(e,r)}(t,e,r)}))}catch(t){s(t.id,t.message)}}}},function(t,e,r){"use strict";var n=r(35),o=r(36),i=r(26);t.exports={formats:i,parse:o,stringify:n}},function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r,n){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=g(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var s={};function l(){}function f(){}function p(){}var d={};d[o]=function(){return this};var y=Object.getPrototypeOf,h=y&&y(y(x([])));h&&h!==e&&r.call(h,o)&&(d=h);var m=p.prototype=l.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function v(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,a){var c=u(t[n],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return e("throw",t,i,a)}))}a(c.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function g(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=m.constructor=p,p.constructor=f,p[a]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(v.prototype),v.prototype[i]=function(){return this},t.AsyncIterator=v,t.async=function(e,r,n,o){var i=new v(c(e,r,n,o));return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(m),m[a]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e){Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.isSafeInteger=Number.isSafeInteger||function(t){return Number.isInteger(t)&&Math.abs(t)<=Number.MAX_SAFE_INTEGER},Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991)},function(t,e,r){"use strict";(function(t){function n(e,r){return t.ajax({data:r,method:"POST",url:"".concat(wpApiSettings.root,"wpsp/").concat(e),beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}})}r.d(e,"a",(function(){return n}))}).call(this,r(5))},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),i=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:i,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var u=a[c],s=i[u];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(e.push({obj:i,prop:u}),r.push(s))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],o=0;o<e.length;++o)void 0!==e[o]&&n.push(e[o]);r.obj[r.prop]=n}}return e}(e)},decode:function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},encode:function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",n=0;n<e.length;++n){var i=e.charCodeAt(n);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=e.charAt(n):i<128?r+=o[i]:i<2048?r+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?r+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),r+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return r},isBuffer:function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,r,o){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=i(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach((function(r,i){n.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=t(e[i],r,o):e.push(r):e[i]=r})),e):Object.keys(r).reduce((function(e,i){var a=r[i];return n.call(e,i)?e[i]=t(e[i],a,o):e[i]=a,e}),a)}}},function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},,,,,,,function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,n)}t.exports=r},function(t,e,r){"use strict";var n=r(25),o=r(26),i={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return a.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(e,r,o,i,a,u,s,l,f,p,d,y){var h=e;if("function"==typeof s)h=s(r,h);else if(h instanceof Date)h=p(h);else if(null===h){if(i)return u&&!y?u(r,c.encoder):r;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||n.isBuffer(h))return u?[d(y?r:u(r,c.encoder))+"="+d(u(h,c.encoder))]:[d(r)+"="+d(String(h))];var m,b=[];if(void 0===h)return b;if(Array.isArray(s))m=s;else{var v=Object.keys(h);m=l?v.sort(l):v}for(var g=0;g<m.length;++g){var w=m[g];a&&null===h[w]||(b=Array.isArray(h)?b.concat(t(h[w],o(r,w),o,i,a,u,s,l,f,p,d,y)):b.concat(t(h[w],r+(f?"."+w:"["+w+"]"),o,i,a,u,s,l,f,p,d,y)))}return b};t.exports=function(t,e){var r=t,a=e?n.assign({},e):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===a.delimiter?c.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:c.strictNullHandling,f="boolean"==typeof a.skipNulls?a.skipNulls:c.skipNulls,p="boolean"==typeof a.encode?a.encode:c.encode,d="function"==typeof a.encoder?a.encoder:c.encoder,y="function"==typeof a.sort?a.sort:null,h=void 0!==a.allowDots&&a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:c.serializeDate,b="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:c.encodeValuesOnly;if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var v,g,w=o.formatters[a.format];"function"==typeof a.filter?r=(g=a.filter)("",r):Array.isArray(a.filter)&&(v=g=a.filter);var O,j=[];if("object"!=typeof r||null===r)return"";O=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var x=i[O];v||(v=Object.keys(r)),y&&v.sort(y);for(var P=0;P<v.length;++P){var _=v[P];f&&null===r[_]||(j=j.concat(u(r[_],_,x,l,f,p?d:null,g,y,h,m,w,b)))}var S=j.join(s),E=!0===a.addQueryPrefix?"?":"";return S.length>0?E+S:""}},function(t,e,r){"use strict";var n=r(25),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),c=a?n.slice(0,a.index):n,u=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var s=0;null!==(a=i.exec(n))&&s<r.depth;){if(s+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+n.slice(a.index)+"]"),function(t,e,r){for(var n=e,o=t.length-1;o>=0;--o){var i,a=t[o];if("[]"===a)i=(i=[]).concat(n);else{i=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(i=[])[u]=n:i[c]=n}n=i}return n}(u,e,r)}};t.exports=function(t,e){var r=e?n.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===t||null==t)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){for(var r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=e.parameterLimit===1/0?void 0:e.parameterLimit,c=n.split(e.delimiter,a),u=0;u<c.length;++u){var s,l,f=c[u],p=f.indexOf("]="),d=-1===p?f.indexOf("="):p+1;-1===d?(s=e.decoder(f,i.decoder),l=e.strictNullHandling?null:""):(s=e.decoder(f.slice(0,d),i.decoder),l=e.decoder(f.slice(d+1),i.decoder)),o.call(r,s)?r[s]=[].concat(r[s]).concat(l):r[s]=l}return r}(t,r):t,u=r.plainObjects?Object.create(null):{},s=Object.keys(c),l=0;l<s.length;++l){var f=s[l],p=a(f,c[f],r);u=n.merge(u,p,r)}return n.compact(u)}},,,,,,,,,function(t,e,r){"use strict";r.r(e),function(t){var e=r(1),n=r.n(e),o=r(7),i=r.n(o),a=r(19),c=r(16),u=r(6);function s(t,e,r){if(_.isObject(t)){var n=t.responseJSON,o=t.responseText,i=t.message,a=n&&n.message?n.message:o,c=i||a,u=window.simpayApp,s=u.showError,l=u.enableForm,f=window.spShared.debugLog;s(e,r,c),l(e,r),f("Payment Form Error:",t)}}function l(){return(l=i()(n.a.mark((function t(e,r,o){var i,a,u,l,f;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.error){t.next=2;break}throw e.error;case 2:return i=r.find('input[name="customer_id"]').val(),a=r.find('input[name="subscription_id"]').val(),u=r.find('input[name="subscription_key"]').val(),l=r.find('input[name="_wpnonce"]').val(),f=e.source.id,t.next=9,Object(c.c)(a,{_wpnonce:l,subscription_key:u,source_id:f,customer_id:i}).fail((function(t){return s(t,r,o)}));case 9:window.location.replace(window.location.href);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e,r){t.preventDefault(),window.simpayApp.showError(e,r,""),window.simpayApp.disableForm(e,r,!0);try{Object(u.b)(e,r).then((function(t){return function(t,e,r){return l.apply(this,arguments)}(t,e,r)})).catch((function(t){return s(t,e,r)}))}catch(t){s(t,e,r)}}Object(a.a)((function(){var e=document.getElementById("simpay-form-update-payment-method");if(e){var r=simpayUpdatePaymentMethod,n=r.i18n,o=r.stripe.key,i={formDisplayType:"embedded",checkoutButtonLoadingText:n.loading,checkoutButtonText:n.submit,stripeParams:{key:o}},a=t(e);a.stripeInstance=Stripe(i.stripeParams.key),Object(u.d)(a,i),e.addEventListener("submit",(function(t){return f(t,a,i)}))}}))}.call(this,r(5))}]);